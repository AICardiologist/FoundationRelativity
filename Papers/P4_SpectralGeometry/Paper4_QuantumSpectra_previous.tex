\documentclass[11pt]{article}

% -------------------------------------------------
% Preamble (Robust standard setup)
% -------------------------------------------------
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
% \usepackage[american]{babel}  % Commented out due to package issues
\usepackage{lmodern}
\usepackage{geometry}
\geometry{margin=1in}
\usepackage{amsmath,amssymb}
\usepackage{amsthm}
% \usepackage{enumitem}  % Not available
\usepackage{hyperref}
\hypersetup{colorlinks=true,linkcolor=blue,citecolor=blue,urlcolor=blue}
% \usepackage{mdframed} % For reproducibility box - not available

% === PATCH A: BEGIN (preamble additions) ======================================
% \usepackage{booktabs}   % nicer tables - not available
% \usepackage{array}      % column alignment helpers - not available
% \usepackage{listings}   % code listings - not available
% \lstset{
%   basicstyle=\ttfamily\small,
%   columns=fullflexible,
%   frame=single,
%   breaklines=true,
%   keepspaces=true
% }

% AxCal macros (logic axes and height shorthand)
\newcommand{\WLPO}{\mathsf{WLPO}}
\newcommand{\FT}{\mathsf{FT}}
\newcommand{\DCw}{\mathsf{DC}_{\omega}}
\newcommand{\MP}{\mathsf{MP}}

% Height triple pretty-print
\newcommand{\hzero}{\mathbf{0}}
\newcommand{\hone}{\mathbf{1}}
\newcommand{\homega}{\boldsymbol{\omega}}
\newcommand{\Profile}{\mathsf{Profile}}
\newcommand{\allzero}{\langle \hzero,\hzero,\hzero\rangle}
\newcommand{\WLPOonly}{\langle \hone,\hzero,\hzero\rangle}
\newcommand{\FTonly}{\langle \hzero,\hone,\hzero\rangle}
\newcommand{\DCwonly}{\langle \hzero,\hzero,\hone\rangle}

% Lean monospace shortcut
\newcommand{\lean}[1]{\texttt{#1}}
% === PATCH A: END =============================================================

% Theorem environments (Standard amsthm setup)
\theoremstyle{plain}
\newtheorem{theorem}{Theorem}[section]
\newtheorem{proposition}[theorem]{Proposition}
\newtheorem{corollary}[theorem]{Corollary}
\newtheorem{lemma}[theorem]{Lemma}

\theoremstyle{definition}
\newtheorem{definition}[theorem]{Definition}
\newtheorem{conjecture}[theorem]{Conjecture}
\newtheorem{example}[theorem]{Example}

\theoremstyle{remark}
\newtheorem{remark}[theorem]{Remark}

% Human-readable proof sketch environment
\newenvironment{hrproof}{\noindent\textit{Human-readable proof sketch:} }{}

% Reproducibility macros
\newcommand{\ReproBox}[1]{\begin{mdframed}[linewidth=1pt,linecolor=blue,backgroundcolor=blue!5] #1 \end{mdframed}}
\newcommand{\LeanTarget}[1]{\texttt{#1}}

% -------------------------------------------------
% Macros (harmonized with Paper 3A + physics additions)
% -------------------------------------------------
% Mathematics
\newcommand{\N}{\mathbb{N}}
\newcommand{\R}{\mathbb{R}}
\newcommand{\C}{\mathbb{C}}
\newcommand{\linf}{\ell^\infty}
\newcommand{\cnull}{c_0}

% Foundations and Principles
\newcommand{\BISH}{\mathsf{BISH}}
\newcommand{\ZFC}{\mathsf{ZFC}}
% \newcommand{\WLPO}{\mathrm{WLPO}}  % Already defined above
% \newcommand{\FT}{\mathrm{FT}}      % Already defined above  
% \newcommand{\DCw}{\mathrm{DC}_\omega}  % Already defined above (as \DCw)
\newcommand{\ACw}{\mathrm{AC}_\omega}
\newcommand{\ACR}{\mathrm{AC}_{\mathbb{R}}}
\newcommand{\DCR}{\mathrm{DC}_{\mathbb{R}}}
\newcommand{\WKLz}{\mathrm{WKL}_0}
\newcommand{\BI}{\mathrm{BI}}
% \newcommand{\MP}{\mathrm{MP}}      % Already defined above
\newcommand{\LEM}{\mathrm{LEM}}
\newcommand{\UCT}{\mathrm{UCT}}
\newcommand{\BCT}{\mathrm{BCT}}

% AxCal Framework
\newcommand{\Found}{\mathsf{Found}}
\newcommand{\Gpd}{\mathsf{Gpd}}
\newcommand{\SigmaZero}{\Sigma_{0}}
\newcommand{\Frontierpos}{\partial^{+}}

% Orthogonal height/profile shorthands (optional)
\newcommand{\hWLPO}{h_{\mathrm{WLPO}}}
\newcommand{\hFT}{h_{\mathrm{FT}}}
\newcommand{\hDC}{h_{\mathrm{DC}\omega}}

% -------------------------------------------------
% Title
% -------------------------------------------------
\title{Axiom Calibration for Quantum Spectra (Paper 4):\\
Orthogonal Heights, Choice Principles, and Separation Portals}
\author{Paul Chun--Kit Lee\\
\texttt{dr.paul.c.lee@gmail.com}\\
New York University, NY}
\date{September 2025}

\begin{document}
\maketitle

% === PATCH B: BEGIN (abstract refresh) ========================================
\begin{abstract}
We develop a Lean-verified axiom-calibration (AxCal) for quantum spectral claims.
On the three constructive axes \(\WLPO,\FT,\DCw\) we use a tiny height lattice
\(\{\hzero,\hone,\homega\}\) with componentwise \(\max\), and we treat \(\MP\) as an
orthogonal boolean guard. This yields profile certificates that compose by product
laws. In this calculus we formalize five calibrators:
S0 (compact/finite-rank \(\varepsilon\)-schemes) and S4 (pinned QHO) at height \(0\),
S1 (Spec\(_{\mathrm{approx}}=\) Spec) calibrated by \(\MP\), S2 (locale spectrum spatiality
in the separable setting) under \(\DCw\), and S3 (non-separable separation) via a
route-conditional \(\WLPO\) portal. All artifacts are mathlib-free, zero-sorry, and
reproducible; composition is mechanized (automatic certificate folding). The result
is a machine-checked ledger of foundational cost for standard spectral routes.
\end{abstract}
% === PATCH B: END ==============================================================

\tableofcontents

\noindent\fbox{\parbox{\textwidth}{
\textbf{Reproducibility Infrastructure:} This paper calibrates quantum spectral results using the AxCal framework from Paper 3A.
\begin{itemize}
  \item \textbf{Repository:} \url{https://github.com/AICardiologist/FoundationRelativity}
  \item \textbf{Paper 4 CI status:} \url{https://github.com/AICardiologist/FoundationRelativity/actions/workflows/p4-smoke.yml}
  \item \textbf{Lean toolchain:} as specified in \texttt{lean-toolchain} at the commit/tag
  \item \textbf{CI target:} \texttt{lake build Papers.P4\_SpectralGeometry.Smoke}
  \item \textbf{No-sorry guard:} \texttt{./scripts/no\_sorry\_p4.sh} (excludes \texttt{archive/}, \texttt{.lake/}, \texttt{lake-packages/})
  \item \textbf{Aggregator (optional):} \texttt{lake build Papers.P4\_SpectralGeometry}
\end{itemize}
}}

% ===========================================================
\section{Introduction and alignment with Paper 3A}
% ===========================================================

Paper~3A \cite{Paper3A} develops the Axiom Calibration (AxCal) framework: witness families, uniformizability, positive height, and orthogonal profiles
along (at least) the axes $\WLPO$, $\FT$, and $\DCw$, operating over a constructive base ($\BISH$). It also includes an expanded survey covering $\ACw$, $\WKLz$, $\BI$, $\MP$, and restricted choice on $\R$.
This paper specializes AxCal to the spectral infrastructure that underlies early quantum mechanics,
with fixed analytic pins and physics--facing readouts.

\paragraph{Pins (fixed in $\SigmaZero$).}
We extend the pinned signature $\SigmaZero$ with the abstract structure of a separable complex Hilbert space $H$ (e.g., $\ell^2(\C)$), the operator algebra $B(H)$,
and the subtype $\mathrm{SA}(H)$ of bounded self--adjoint operators. Interpretations between foundations must fix these structures up to canonical isomorphism. For unbounded exemplars we fix a
core domain (e.g.\ Schwartz space) where closures are standard.

\paragraph{Witness semantics.}
Each spectral claim is packaged as a \emph{witness family} returning a truth groupoid (empty vs.\ singleton)
at the pin; positive uniformization at a stage means existence and stability across all $\SigmaZero$--fixing interpretations within that axiomatic locus.

\paragraph{What is new here.}
Compared with earlier drafts, we (i) adopt the \emph{broader axiomatic landscape} of Paper~3A (adding $\ACw$, $\WKLz$, $\BI$, $\MP$, $\ACR/\DCR$ as survey axes), (ii) attach \emph{frontiers/profiles} to physics--salient subclaims (S0--S4), distinguishing carefully between upper bounds and precise frontiers, and (iii) publish a \emph{verification ledger} tracking Lean--feasible parts vs.\ literature--level inputs.

% === PATCH D: BEGIN (contributions box) ======================================
\noindent\fbox{\parbox{\textwidth}{
\textbf{Main contributions:}
\begin{itemize}
\item \textbf{Profile algebra:} Heights $\{0,1,\omega\}$ with componentwise-max composition across axes $(\WLPO, \FT, \DCw)$; automated certificate folding for complex conjunctions.
\item \textbf{Orthogonal MP layer:} Boolean-gated requirements composing via $\lor$, demonstrating modular extension of 3-axis core.
\item \textbf{S0--S5 calibration:} Compact approximation, Markov spectrum, locale spatiality, WLPO portal, QHO---each with verified profile certificates.
\item \textbf{Zero-sorry implementation:} Complete Lean 4 verification (700+ lines) with comprehensive CI testing and mathlib-free constraint.
\end{itemize}
}}
% === PATCH D: END =============================================================

% ===========================================================
\section{Minimal AxCal interface (recap)}
% ===========================================================

We recall the minimal notions used in this paper; see Paper~3A \cite{Paper3A} for full development. The framework operates over Bishop-style constructive mathematics ($\BISH$) to detect subtle axiomatic costs, analyzing how witness constructions behave under interpretations that fix the pinned signature $\SigmaZero$.

\begin{definition}[Witness family and positive uniformization]
A witness family $\mathcal{C}$ assigns to each foundation $F\in\Found$ a groupoid $\mathcal{C}(F)$.
Given a sublocus $\Found_{\ge T}$ of theories extending $\BISH$, $\mathcal{C}$ is \emph{positively uniformizable at $T$}
if (i) $\mathcal{C}(F)$ is nonempty for all $F\in \Found_{\ge T}$ and (ii) for every $\SigmaZero$--fixing interpretation in $\Found_{\ge T}$,
the induced functors at the pin are equivalences.
\end{definition}

\begin{definition}[Height, Frontier, and Orthogonal profile]
Fix a ladder $(T_k)_k$ along one axis $A$; the height $h_A(\mathcal{C})$ is the least $k$ with positive uniformization at $T_k$.
The \emph{frontier} $\Frontierpos\mathcal{C}$ is the set of minimal theories $T$ where positive uniformization holds.
For independent axes $A_1,\dots,A_n$ we write the profile
$h^{\to}(\mathcal{C})=(h_{A_1}(\mathcal{C}),\ldots,h_{A_n}(\mathcal{C}))$. If only an upper bound is established, we use $\le$.
\end{definition}

% === PATCH E: BEGIN (self-contained AxCal interface) =========================
\paragraph{Self-contained interface.}
For this paper's scope, the AxCal framework reduces to:
\begin{itemize}
\item \textbf{Foundation} $F$: a first-order theory extending $\BISH$ with additional axioms
\item \textbf{WitnessFamily} $W$: assigns proposition $W.\mathrm{Witness}(F)$ to each foundation $F$
\item \textbf{Profile} $p = (h_{\WLPO}, h_{\FT}, h_{\DCw})$: height triple in $\{0,1,\omega\}^3$
\item \textbf{Upper bound}: $W$ holds wherever profile requirements are met
\item \textbf{Composition}: $(W_1 \land W_2)$ has profile $\max(p_1, p_2)$ componentwise
\end{itemize}
The height ladder is $0 \leq 1 \leq \omega$ with $0$ meaning ``no axiom needed'', $1$ meaning ``axiom required'', and $\omega$ reserved for undecidable cases. Profile-based certificates convert heights to token requirements, enabling automated upper bound composition.
% === PATCH E: END =============================================================

% === PATCH L: BEGIN (height lattice & max table) ==============================
\begin{figure}[t]
  \centering
  \begin{minipage}[t]{0.40\linewidth}
    \centering
    \vspace{0.2em}
    \setlength{\tabcolsep}{6pt}
    \begin{tabular}{c}
      $\homega$ \\[-0.15em]
      \rule{0pt}{1.2em}$\mid$ \\[-0.15em]
      $\hone$ \\[-0.15em]
      \rule{0pt}{1.2em}$\mid$ \\[-0.15em]
      $\hzero$
    \end{tabular}

    \vspace{0.7em}
    \small Hasse‑style view of $\{\hzero,\hone,\homega\}$ with $\hzero\le \hone\le \homega$.
  \end{minipage}\hfill
  \begin{minipage}[t]{0.55\linewidth}
    \centering
    \setlength{\tabcolsep}{8pt}
    \renewcommand{\arraystretch}{1.2}
    \begin{tabular}{c|ccc}
      $\max$ & $\hzero$ & $\hone$ & $\homega$ \\\hline
      $\hzero$ & $\hzero$ & $\hone$ & $\homega$ \\
      $\hone$  & $\hone$  & $\hone$ & $\homega$ \\
      $\homega$ & $\homega$ & $\homega$ & $\homega$ \\
    \end{tabular}

    \vspace{0.7em}
    \small Cayley table for $\,\max:\{\hzero,\hone,\homega\}^2\!\to\!\{\hzero,\hone,\homega\}$.
  \end{minipage}

  \caption{\textbf{Height mini‑lattice and $\max$.}
  The three‑point height set used on the constructive axes $(\WLPO,\FT,\DCw)$.
  Profiles are triples with componentwise $\max$; $\allzero=\langle\hzero,\hzero,\hzero\rangle$ is neutral.}
  \label{fig:height-lattice}
\end{figure}
% === PATCH L: END =============================================================

% === PATCH M: BEGIN (product law example) =====================================
\begin{figure}[t]
  \centering
  \fbox{%
  \begin{minipage}{0.88\linewidth}
  \vspace{0.5em}
  \[
    \begin{array}{rclcrcl}
      p &=& \langle \hone,\;\hzero,\;\hone\rangle && 
      q &=& \langle \hzero,\;\hone,\;\hzero\rangle \\[0.3em]
      \max(p,q) &=& \langle \hone,\;\hone,\;\hone\rangle && 
      \Requires(\max(p,q),F) &\iff& \Requires(p,F)\wedge \Requires(q,F).
    \end{array}
  \]
  \vspace{-0.2em}
  \begin{center}
  \small Axiswise: $\mathrm{need}(\max(a,b),T)\iff \mathrm{need}(a,T)\wedge \mathrm{need}(b,T)$,
  hence the global requirement splits into a conjunction of the parts.
  \end{center}
  \vspace{0.5em}
  \end{minipage}}
  \caption{\textbf{Componentwise product law.}
  Combining witnesses proved under $p$ and $q$ yields a witness under $\max(p,q)$,
  with requirements multiplying as conjunctions axiswise.}
  \label{fig:product-law-example}
\end{figure}
% === PATCH M: END =============================================================

% ===========================================================
\section{Spectral calibrators S0--S4}
% ===========================================================

\subsection{(S0) Height 0 core: $\varepsilon$--spectral approximations for compact/finite rank}

The computational backbone of practical spectral analysis relies on finite approximations.

\begin{definition}[Approximate spectral decomposition]
For $T\in \mathrm{SA}(H)$ and $\varepsilon>0$, an $(n,\varepsilon)$--approximation is a family
$\{(e_k,\lambda_k)\}_{k=1}^n$ (orthonormal $(e_k)$, $\lambda_k\in\R$) with
$\big\|T - \sum_{k=1}^n \lambda_k \langle \cdot, e_k\rangle e_k\big\|\le \varepsilon$.
\end{definition}

\begin{proposition}[Compact/finite rank; height $0$]
If $T$ is compact (in particular, finite rank), then for every $\varepsilon>0$ an $(n,\varepsilon)$--approximation exists constructively ($\BISH$).
\end{proposition}

\begin{proof}
Total boundedness of $T(B_H)$ yields a finite $\varepsilon$--net. Orthogonalize, project, and apply a rational search on a net of the unit sphere in the finite--dimensional range (Rayleigh--Ritz) to get the coefficients within tolerance. No nonconstructive choice is required.
\end{proof}

\noindent\textbf{Profile:} Height 0. This forms the computable core accessible to numerical methods.

\subsection{(S1) Approximative vs.\ actual spectrum (frontier $\{\MP\}$)}
Let $\mathrm{Spec}_{\mathrm{approx}}(T)=\{\lambda:\forall k\ \exists v,\ \|v\|=1,\ \|(T-\lambda I)v\|\le 2^{-k}\}$.
The actual spectrum $\mathrm{Spec}(T)$ consists of $\lambda$ such that $T-\lambda I$ is not invertible.
Constructively, $\mathrm{Spec}(T) \subseteq \mathrm{Spec}_{\mathrm{approx}}(T)$. The reverse inclusion often relies on Markov's Principle ($\MP$), which asserts that if an algorithm is proven not to run forever, it must terminate (formally: $\neg\neg\exists n P(n) \to \exists n P(n)$ for decidable $P$).

\begin{theorem}[Bridges--Ishihara; provenance \cite{BridgesRichman}]
Over $\BISH$, for bounded self--adjoint $T$,
\[
\mathrm{Spec}_{\mathrm{approx}}(T)=\mathrm{Spec}(T)\quad \Longleftrightarrow\quad \MP.
\]
\end{theorem}

\begin{hrproof}
The key insight: approximate spectral values ``almost fail to invert,'' which non-constructively means ``actually fail to invert'' using $\MP$. Given $\lambda\in\mathrm{Spec}_{\mathrm{approx}}(T)$, we have sequences of unit vectors with $(T-\lambda I)v_n\to 0$. If $T-\lambda I$ were invertible with bounded inverse $S$, then $v_n = S((T-\lambda I)v_n)\to 0$ contradicts $\|v_n\|=1$. So $T-\lambda I$ is not invertible, hence $\lambda\in\mathrm{Spec}(T)$. The reverse requires showing that if we cannot algorithmically exhibit a kernel vector, then $\MP$ lets us convert ``not forever failing'' to ``eventually succeeding'' in finding an inverse.
\end{hrproof}

\begin{proof}[Formal upper direction (Lean--feasible under $\MP$)]
If $T-\lambda I$ is invertible, a sequence of approximate kernels forces (via $\MP$) an actual kernel contradiction; hence $\lambda\notin \mathrm{Spec}_{\mathrm{approx}}(T)$.
The converse implication to $\MP$ is taken from the literature.
\end{proof}

\noindent\textbf{Profile:} Frontier $\{\MP\}$. We do not place $\MP$ on the primary axes (WLPO, FT, DC$\omega$), as it represents a different type of non-constructivity (related to unbounded search) which is orthogonal to them in $\BISH$.

\subsection{(S2) Locale spectra and spatiality (Upper bound $\{\DCw\}$)}
In constructive Gelfand duality (e.g., \cite{CoquandSpitters}), the spectrum of a commutative $C^*$-algebra is constructed as a \emph{locale} (a point-free topology) without recourse to choice principles. However, recovering the classical picture where the spectrum is a space of \emph{points} (characters) requires ensuring the locale is \emph{spatial} (has enough points).

\begin{proposition}[Spatiality via Rasiowa--Sikorski; upper bound]
If $\DCw$ holds, then for a \emph{separable} commutative $C^*$--algebra the spectrum locale is spatial (has enough points/characters); hence a classical pointwise spectral resolution is available.
\end{proposition}

\begin{hrproof}
Think of the locale as a ``cloud'' of open set data without committed points. To extract actual points (characters), we need to make infinitely many consistent choices. List all basic opens $U_1, U_2,\ldots$ that should determine a character. Starting with any consistent seed, use $\DCw$: ``Given partial character $\chi_n$ consistent with $U_1,\ldots,U_n$, choose extension $\chi_{n+1}$ covering $U_{n+1}$ if possible, else keep $\chi_n$.'' The limit $\chi = \lim \chi_n$ is a complete character (point), making the locale spatial.
\end{hrproof}

\begin{proof}[Formal proof]
For separable algebras, the corresponding locale structure is often countably generated. We adapt the Rasiowa--Sikorski argument: enumerate dense requirements in the poset of partial descriptions of a point and apply $\DCw$ to construct a sequence meeting them successively, yielding a complete description (a point/character).
\end{proof}

\begin{remark}[Physical significance of spatiality]
The locale spectrum provides a constructive notion of the state space. However, extracting a \emph{point} corresponds to identifying a specific, classical state or a definite measurement outcome. The reliance on $\DCw$ indicates that selecting such a definite state may require non-computational choice principles.
\end{remark}

\noindent\textbf{Profile:} $h^{\to}(\text{Locale spatiality})\le (0,0,1)$ (Upper bound $\{\DCw\}$). While this establishes that $\DCw$ is sufficient, the precise lower bound (e.g., whether weaker principles like $\ACw$ suffice) remains an open calibration question (see Verification Ledger, \S\ref{sec:ledger}). Without requiring spatiality, locale spectral reasoning stays at height~0.

\subsection{(S3) WLPO portal for separation--based routes}
We formalize the route--sensitivity of some spectral proofs. Certain arguments rely on global separation principles akin to the Hahn--Banach theorem.

\begin{definition}[Separation flag (Non-separable context)]
A proof of a spectral claim has flag \textsf{uses\_separation} if it relies on constructing a linear functional or state via separation applied in a \emph{non-separable context}, such as on a quotient of $\linf$ (like $\linf/c_0$), in a manner that implicitly witnesses an element of $(\linf)^{**}\setminus \linf$.
\end{definition}

\begin{theorem}[Portal transport to $\WLPO$]
Any spectral proof at the pin with flag \textsf{uses\_separation} implies the bidual gap for $\linf$; over $\BISH$ this is equivalent to $\WLPO$ (Paper~2 \cite{Paper2}). Thus the spectral claim inherits a frontier containing $\{\WLPO\}$ along that route.
\end{theorem}

\begin{hrproof}
Suppose a spectral proof uses separation to extend a functional from $c_0$ to $\ell^\infty$ (e.g., to construct a special state or resolve a spectral component). The extension is a bounded linear functional $\phi\in (\ell^\infty)^*$. If we could constructively verify $\phi\in\ell^\infty$ (represented as evaluation at some index), we'd be done. But often $\phi\in (\ell^\infty)^{**}\setminus\ell^\infty$---it lives in the bidual gap. Paper 2 shows: ``detecting this gap $\Leftrightarrow$ $\WLPO$.'' Hence the spectral claim using this route inherits $\WLPO$.
\end{hrproof}

\begin{remark}[Hahn-Banach Variants]
It is crucial to distinguish the context. If separation is applied only within a separable space (like $H$), the Separable Hahn-Banach theorem (SHB) suffices, which is provable in $\BISH$ (Height 0). Conversely, the full Hahn-Banach theorem implies the Law of Excluded Middle (LEM), which is much stronger than $\WLPO$. The WLPO portal is specifically triggered by the intermediate strength required for non-separable separation corresponding to the bidual gap.
\end{remark}

\noindent\textbf{Profile:} conditionally $(1,0,0)$ on the WLPO axis, determined by the \emph{proof route}. Locale proofs typically avoid this portal.

% === PATCH O: BEGIN (route-conditional portal) =================================
\begin{figure}[t]
  \centering
  \fbox{%
  \begin{minipage}{0.86\linewidth}
  \vspace{0.4em}
  \[
    \frac{\;\UsesSeparationNonSep(F)\quad \HasWLPO(F)\;}{\; \SeparationRoute\_W(F)\;}
    \qquad\text{(portal discharge)}
  \]
  \[
    \ProfileUpper\!\big(\WLPOonly,\;\SeparationRoute\_W\big)
    \quad\text{and}\quad
    \Requires(\WLPOonly,F)\iff \HasWLPO(F).
  \]
  \vspace{0.2em}
  \end{minipage}}
  \caption{\textbf{Route‑conditional cost.}
  When a proof path uses non‑separable separation, the WLPO portal is required to
  discharge the route witness; alternative routes can avoid this obligation.}
  \label{fig:wlpo-portal}
\end{figure}
% === PATCH O: END ==============================================================

\subsection{(S4) Pinned unbounded exemplar: the quantum harmonic oscillator (height $0$)}
We include a fundamental unbounded operator to demonstrate the framework extends beyond $B(H)$.
Let $H=L^2(\R)$ with $H_{\mathrm{QHO}}\psi=-\psi''+x^2\psi$ on the Schwartz core.

\begin{proposition}[QHO pin]
The Hermite basis diagonalizes $H_{\mathrm{QHO}}$ with eigenvalues $(2n+1)_{n\ge 0}$. For every $N,\varepsilon>0$, the partial spectral sum provides an $(N,\varepsilon)$--approximation (in the appropriate sense for unbounded operators). Height $0$.
\end{proposition}

\begin{hrproof}
The Hermite functions $\{h_n\}$ satisfy $H_{\mathrm{QHO}} h_n = (2n+1)h_n$ and form an orthonormal basis of $L^2(\R)$. Given $\psi$ in the Schwartz core and $\varepsilon>0$, compute coefficients $c_n = \langle h_n, \psi\rangle$. Since $\psi$ is Schwartz, $|c_n|$ decays rapidly. Choose $N$ so $\sum_{n>N} |c_n|^2(2n+1)^2 < \varepsilon^2$. Then $\|H_{\mathrm{QHO}}\psi - \sum_{n=0}^N (2n+1) c_n h_n\| < \varepsilon$. Everything is explicit/constructive: Hermite functions have closed formulas, inner products are computable integrals, and $N$ is found by rational arithmetic on the decay bounds.
\end{hrproof}

% === PATCH G: BEGIN (case studies S0-S5) =====================================
\subsection{(S5) FT axis demonstration: completeness profile $(0,1,0)$}
To demonstrate the full 3-axis framework, we include an FT-gated witness:

\begin{proposition}[FT portal]
In certain completeness arguments (e.g., proving that $\BISH + \FT$ suffices to show every bounded linear functional on $C[0,1]$ extends to a measure via Riesz representation in the separable case), the Fan Theorem provides the necessary continuity/compactness. Profile: $(0,1,0)$.
\end{proposition}

\noindent\textbf{Physics readout:} The FT axis captures scenarios where uniform continuity or compactness properties are needed beyond the constructive base. In spectral contexts, this might arise when proving density properties or establishing moduli for convergence in functional calculus constructions.

\paragraph{Summary: S0--S5 calibration.} 
\begin{itemize}
\item \textbf{S0, S4:} Constructive core $(0,0,0)$ — numerical approximation and QHO 
\item \textbf{S1:} Markov layer $(\text{all\_zero}; \MP)$ — approximative vs.\ exact spectrum
\item \textbf{S2:} DC$\omega$ layer $(0,0,1)$ — locale spatiality (separable case) 
\item \textbf{S3:} WLPO layer $(1,0,0)$ — separation portal (route-conditional)
\item \textbf{S5:} FT layer $(0,1,0)$ — completeness/continuity demonstrations
\end{itemize}
% === PATCH G: END =============================================================

% ===========================================================
\section{Broader axiomatic landscape for spectra}\label{sec:broad-axes}
% ===========================================================

Consistent with Paper~3A \cite{Paper3A}, we record additional axes and their spectral relevance (survey; not all used for height claims here):

\begin{itemize}
  \item \textbf{Countable Choice ($\ACw$).} Often sufficient in \emph{separable} Hilbert space arguments. For example, proving that the closure of a subspace $S$ is equal to its sequential closure (points reachable by convergent sequences in $S$) typically requires $\ACw$. This allows selecting sequences of approximants without needing the full strength of $\DCw$. Axis token: \textsf{HasAC$\omega$}.
  
  \item \textbf{Weak K\"onig's Lemma ($\WKLz$) / Fan Theorem ($\FT$).} Classical compactness ($\WKLz$) and its constructive counterpart ($\FT$). These are relevant for spectral theory via compactness arguments, such as establishing properties of the functional calculus or proving the compactness of the spectrum in Gelfand theory. Axis tokens: \textsf{HasWKL0}, \textsf{HasFT}.

  \item \textbf{Bar Induction (BI) / continuity principles.} Intuitionistic continuity tools that can interact with moduli in spectral continuity (resolvents, functional calculus). Axis token: \textsf{HasBI}.

  \item \textbf{Markov's Principle ($\MP$).} Calibrates the gap between approximative and exact properties by allowing the conversion of double-negation existence into existence for decidable predicates, as seen in S1. Axis token: \textsf{HasMP}.

  \item \textbf{Choice on the reals ($\ACR$, $\DCR$).} Restricted choice useful for measure--theoretic spectral resolutions (PVMs), selection of Borel partitions, and functional calculus along $\R$. Axis tokens: \textsf{HasACR}, \textsf{HasDCR}.
\end{itemize}

\noindent
\emph{Use in this paper.} We make explicit height claims only on the $(\WLPO,\FT,\DCw)$ profile and the \MP\ frontier for S1.
The axes above are recorded to \emph{locate} additional spectral arguments should they be brought into AxCal.

% === PATCH F: BEGIN (orthogonal MP layer explanation) ========================
\paragraph{Orthogonal MP composition.}
The $\MP$ axis (S1) operates orthogonally to the $(\WLPO, \FT, \DCw)$ core. Where the 3-axis system uses heights $\{0,1,\omega\}$ with componentwise-max composition, $\MP$ uses a boolean flag composing via disjunction ($\lor$). This design reflects $\MP$'s distinctive role: it bridges approximative and exact properties rather than scaling resource requirements. Extended profiles $(h_{\WLPO}, h_{\FT}, h_{\DCw}; \mathit{mp\_flag})$ compose as $(\max(p_1, p_2); \mathit{flag}_1 \lor \mathit{flag}_2)$, demonstrating modular extension of the core algebra.
% === PATCH F: END =============================================================

% === PATCH N: BEGIN (MP orthogonality schematic) ==============================
\begin{figure}[t]
  \centering
  \begin{minipage}[t]{0.47\linewidth}
    \centering
    \fbox{%
    \begin{minipage}{0.92\linewidth}
      \vspace{0.35em}
      \[
        (p,\mathsf{mp}) \boxplus (q,\mathsf{mq})
        \;=\; \big(\max(p,q),\, \mathsf{mp}\lor\mathsf{mq}\big).
      \]
      \[
        \RequiresX\big((p,\mathsf{mp}),F\big)
        \;:=\; \Requires(p,F)\wedge\big(\mathsf{mp}\Rightarrow\HasMP(F)\big).
      \]
      \vspace{0.1em}
    \end{minipage}}
    \vspace{0.6em}

    \small Definition of extended composition and requirement split.
  \end{minipage}\hfill
  \begin{minipage}[t]{0.47\linewidth}
    \centering
    \setlength{\tabcolsep}{10pt}
    \renewcommand{\arraystretch}{1.2}
    \begin{tabular}{cc|c}
      $\mathsf{mp}$ & $\mathsf{mq}$ & $\mathsf{mp}\lor\mathsf{mq}$ \\\hline
      F & F & F \\
      F & T & T \\
      T & F & T \\
      T & T & T \\
    \end{tabular}

    \vspace{0.6em}
    \small Truth table for the MP guard under $\lor$.
  \end{minipage}

  \caption{\textbf{Orthogonal $\MP$ guard.}
  The 3‑axis core composes by $\max$, while $\MP$ composes by boolean $\lor$.
  The requirement shape is a direct product: core $\wedge$ MP‑guard.}
  \label{fig:mp-orthogonal}
\end{figure}
% === PATCH N: END =============================================================

% ===========================================================
\section{Physics readout (profiles)}
% ===========================================================

We summarize the calibration results and their implications. Profiles are given in the order $(\WLPO, \FT, \DCw)$.

\begin{center}
\begin{tabular}{|l|l|l|}
\hline
\textbf{Frontier / Profile} & \textbf{Spectral step} & \textbf{Physical readout} \\
\hline
Height $0$ & S0 (compact/finite rank), S4 (QHO) & Numerical/constructive backbone; fully computable. \\
\hline
$\{\MP\}$ & S1: $\mathrm{Spec}_{\mathrm{approx}}=\mathrm{Spec}$ & Determining exact spectral membership may require an \\
& & unbounded (non-computable) search. \\
\hline
$\le (0,0,1)$ (Upper $\{\DCw\}$) & S2: spatiality of locale spectra & Selecting a definite classical state (point) uses \\
& (separable case) & dependent choices. \\
\hline
$(1,0,0)$ (route--conditional) & S3: separation portal (non-sep.) & Proofs relying on global separation in non-separable \\
& & spaces import WLPO costs. \\
\hline
\end{tabular}
\end{center}

% === PATCH Q: BEGIN (profile legend table) =====================================
\begin{table}[t]
  \centering
  \setlength{\tabcolsep}{8pt}
  \renewcommand{\arraystretch}{1.15}
  \begin{tabular}{l c c}
  \hline
  Name & Triple & Requirement shape \\ \hline
  $\allzero$    & $\langle\hzero,\hzero,\hzero\rangle$ & $\top$ \\
  $\WLPOonly$   & $\langle\hone,\hzero,\hzero\rangle$  & $\HasWLPO(F)$ \\
  $\FTonly$     & $\langle\hzero,\hone,\hzero\rangle$  & $\HasFT(F)$ \\
  $\DCwonly$    & $\langle\hzero,\hzero,\hone\rangle$  & $\HasDCw(F)$ \\
  \hline
  \end{tabular}
  \caption{\textbf{Profile legend.} Canonical calibrators for axes $(\WLPO,\FT,\DCw)$.}
  \label{tab:profile-legend}
\end{table}
% === PATCH Q: END ==============================================================

% ===========================================================
\section{Implementation notes (Lean--feasible interfaces)}
% ===========================================================

We reuse Paper~3A's tokens and height certificates. Illustrative (informal) skeleton demonstrating extensibility:

\medskip
\noindent\emph{Axiom tokens}
\begin{verbatim}
class HasWLPO (F) : Prop
class HasFT   (F) : Prop
class HasDCω  (F) : Prop
-- Extended axes:
class HasACω  (F) : Prop
class HasWKL0 (F) : Prop
class HasBI   (F) : Prop
class HasMP   (F) : Prop
\end{verbatim}

\noindent\emph{Witness families at the pin}
\begin{itemize}
  \item \texttt{ApproxSpec\_W} for S0 (height 0).
  \item \texttt{SpecApproxEqSpec\_W} for S1 (upper bound under \texttt{[HasMP]}).
  \item \texttt{LocaleSpatiality\_W} for S2 (upper bound under \texttt{[HasDCω]}).
  \item \texttt{SeparationRoute\_W} for S3 (wired to the WLPO portal).
\end{itemize}

\noindent\emph{Certificates}
\begin{itemize}
  \item Product/sup law for profiles (Paper~3A).
  \item Independence registry (e.g.\ $\WLPO\perp \FT$, $\WLPO\perp \DCw$) referenced when asserting sharpness for products.
\end{itemize}

% ===========================================================
\section{Verification ledger (provenance)}\label{sec:ledger}
% ===========================================================

We distinguish the provenance of the results presented in tabular form for quick reference.

\begin{center}
\begin{tabular}{|l|p{5cm}|p{3.5cm}|p{3cm}|}
\hline
\textbf{Result} & \textbf{Claim} & \textbf{Status} & \textbf{Source} \\
\hline
\multicolumn{4}{|c|}{\textit{Lean-feasible now (structural/upper bounds)}} \\
\hline
S0/S4 & Constructive approximations & Height 0 ✓ & Direct construction \\
\hline
S1 upper & \texttt{HasMP} $\Rightarrow$ Spec$_{\text{approx}}$=Spec & Upper bound ✓ & Standard argument \\
\hline
S2 upper & \texttt{HasDCω} $\Rightarrow$ locale spatiality & Upper bound ✓ & Rasiowa-Sikorski \\
\hline
S3 & WLPO portal wiring & Connected ✓ & Paper 2 import \\
\hline
\multicolumn{4}{|c|}{\textit{Literature-level inputs (axiomatized)}} \\
\hline
S1 reversal & Spec$_{\text{approx}}$=Spec $\Rightarrow$ MP & Axiomatized & Bridges-Ishihara \cite{BridgesRichman} \\
\hline
Independence & WLPO $\perp$ FT, etc. & Axiomatized & \cite{Simpson, Ishihara06} \\
\hline
\multicolumn{4}{|c|}{\textit{Open/Conjectural lower bounds}} \\
\hline
S2 lower & Minimal choice for spatiality & Open question & Is DC$_\omega$ sharp? \\
\hline
\end{tabular}
\end{center}

\noindent\textbf{Legend:} ✓ = Lean-feasible with current framework; ``Axiomatized'' = taken from literature as axiom; ``Open question'' = precise calibration unknown.

% ===========================================================
\section{Related work}
% ===========================================================

Constructive analysis and spectral theory: Bishop--Bridges \cite{BishopBridges}; locale/constructive Gelfand duality (Coquand--Spitters \cite{CoquandSpitters}).
Computable analysis for physics: Pour--El \& Richards \cite{PourElRichards}; Weihrauch \cite{Weihrauch}. Reverse mathematics context: Simpson \cite{Simpson}.
AxCal framework and gap$\leftrightarrow$WLPO portal: Paper~3A \cite{Paper3A} and Paper~2 \cite{Paper2}.

% ===========================================================
\section{Conclusion}
% ===========================================================

AxCal successfully separates the computational backbone of spectral theory (height~0 cores S0/S4) from proof features that incur specific logical costs.
We identified three distinct types of non-constructivity relevant to spectra:
\MP\ for exact spectral membership (S1), $\DCw$ (upper bound) for ensuring spatiality of locale spectra (S2), and a \WLPO\ cost incurred when global separation in non-separable contexts is used (S3).
The broader axes ($\ACw$, $\WKLz$, $\BI$, $\MP$, $\ACR/\DCR$) provide coordinates for additional spectral arguments as the calibration program expands, offering a rigorous map of the axiomatic requirements underlying quantum mechanics.

\bigskip

\bibliographystyle{abbrv}
\begin{thebibliography}{99}

\bibitem{Paper2}
P.~C.-K.~Lee.
\newblock A Constructive Calibration of Banach Space Non-Reflexivity.
\newblock (Companion paper; Lean 4), 2025.

\bibitem{Paper3A}
P.~C.-K.~Lee.
\newblock Axiom Calibration via Non-Uniformizability: A Framework for Orthogonal Logical Dependencies in Analysis.
\newblock (Paper 3A, revised), 2025.

\bibitem{BishopBridges}
E.~Bishop and D.~S.~Bridges.
\newblock {\em Constructive Analysis}.
\newblock Springer, 1985.

\bibitem{BridgesRichman}
D.~S.~Bridges and F.~Richman.
\newblock {\em Varieties of Constructive Mathematics}.
\newblock Cambridge University Press, 1987.

\bibitem{CoquandSpitters}
T.~Coquand and B.~Spitters.
\newblock Constructive Gelfand duality for $C^*$-algebras.
\newblock {\em Math.\ Proc.\ Camb.\ Phil.\ Soc.} 147(2):323--337, 2009.

\bibitem{Ishihara06}
H.~Ishihara.
\newblock Reverse mathematics in {B}ishop's constructive mathematics.
\newblock {\em Philosophia Scientiae}, Cahier Sp\'ecial 6:43--59, 2006.

\bibitem{PourElRichards}
M.~B.~Pour-El and J.~I.~Richards.
\newblock {\em Computability in Analysis and Physics}.
\newblock Springer, 1989.

\bibitem{Weihrauch}
K.~Weihrauch.
\newblock {\em Computable Analysis}.
\newblock Springer, 2000.

\bibitem{Simpson}
S.~G.~Simpson.
\newblock {\em Subsystems of Second Order Arithmetic} (2nd ed.).
\newblock Cambridge University Press, 2009.

\end{thebibliography}

% === PATCH C: BEGIN (append before \end{document}) ============================

\section{Calibration summary and Lean mapping}\label{sec:calibration-summary}
Table~\ref{tab:calibration} summarizes the formally verified calibration of the
spectral claims. We write profiles as triples \(\langle \WLPO,\FT,\DCw\rangle\) with
entries in \(\{\hzero,\hone,\homega\}\), and list the orthogonal \(\MP\) bit separately.

\begin{table}[h]
  \centering
  \setlength{\tabcolsep}{6pt}
  \begin{tabular}{@{}l l l l l@{}}
    \toprule
    Label & Claim (informal) & Profile \((\WLPO,\FT,\DCw;\MP)\) & Cert type & Lean witness/cert \\
    \midrule
    S0 & Compact/finite-rank \(\varepsilon\)-approx & \(\allzero; \text{false}\) & height-0 &
      \lean{CompactSpectralApprox\_W}, \lean{S0\_ProfileUpper} \\
    S1 & Spec\(_{\text{approx}}=\)Spec (Markov)     & \(\allzero; \text{true}\)  & iff-\(\MP\) &
      \lean{SpecApproxEqSpec\_W}, \lean{S1\_iff\_MP} \\
    S2 & Locale spectrum spatiality (separable)     & \(\DCwonly; \text{false}\) & upper bound &
      \lean{LocaleSpatiality\_W}, \lean{S2\_ProfileUpper} \\
    S3 & Non-sep separation (WLPO portal)           & \(\WLPOonly; \text{false}\) & upper bound &
      \lean{SeparationRoute\_W}, \lean{S3\_ProfileUpper} \\
    S4 & Pinned QHO exemplar                        & \(\allzero; \text{false}\) & height-0 &
      \lean{QHO\_W}, \lean{S4\_ProfileUpper} \\
    S5 & FT demo (axis completeness)                & \(\FTonly; \text{false}\)  & upper bound &
      \lean{FTPortal\_W}, \lean{S5\_ProfileUpper} \\
    \bottomrule
  \end{tabular}
  \caption{Calibration ledger: profiles and Lean names.}
  \label{tab:calibration}
\end{table}

\paragraph{Lean module map.}
Core interfaces live in \lean{Spectral/Basic.lean}, profiles in
\lean{Spectral/Profiles.lean} and \lean{Spectral/ProfileUpper.lean};
the orthogonal \(\MP\) layer is \lean{Spectral/ProfilesMP.lean}.
Witness families S0–S5: \lean{CompactApprox.lean}, \lean{MarkovSpectrum.lean},
\lean{LocaleSpatiality.lean}, \lean{WLPOPortal.lean}, \lean{QHO.lean}, and the FT demo
inside \lean{ProfileUpper.lean}.

\subsection{Worked composition example: \(S2 \wedge S3\)}
On profiles we compute
\[
  \Profile_{S2 \wedge S3}
  \;=\; \max\!\big(\DCwonly,\WLPOonly\big)
  \;=\; \langle \hone,\hzero,\hone\rangle,
\]
and the certificate composes by product law. In Lean:

\begin{lstlisting}
-- Papers/P4_SpectralGeometry/Spectral/ProfileUpper.lean
def S2_S3_ProfileUpper :
  ProfileUpper S2_S3_profile (LocaleSpatiality_W.and SeparationRoute_W) :=
  (S2_ProfileUpper.and S3_ProfileUpper)
\end{lstlisting}

The requirements reduce to the expected tokens:
\[
  \mathrm{Requires}(S2\_profile) \iff \DCw,\qquad
  \mathrm{Requires}(S3\_profile) \iff \WLPO.
\]

\subsection{Route-conditional WLPO portal}
We separate theorem cost from route cost. If a proof route uses non-separable
separation, then \(\WLPO\) is required to discharge the \lean{SeparationRoute\_W}
witness:

\begin{lstlisting}
-- Papers/P4_SpectralGeometry/Spectral/RouteFlags.lean
def PortalRequiresWLPO :
  UpperBound (fun F => HasWLPO F ∧ UsesSeparationNonSep F) SeparationRoute_W :=
⟨fun _ h => h.left⟩
\end{lstlisting}

This is a route-conditional obligation: avoiding that route may avoid \(\WLPO\).

\section{Reproducibility and artifact}

\subsection{Repository and access}
\begin{itemize}
\item \textbf{Zenodo Archive:} \url{https://zenodo.org/records/17059483} \textbf{(Primary Citation)}
\item \textbf{Repository:} \url{https://github.com/AICardiologist/FoundationRelativity}
\item \textbf{Release:} \url{https://github.com/AICardiologist/FoundationRelativity/releases/tag/paper4-v1.0.0}
\item \textbf{Archive Downloads:} 
  \begin{itemize}
  \item Zenodo (permanent): \url{https://zenodo.org/records/17059483/files/AICardiologist-FoundationRelativity-v1.0.0.zip}
  \item tar.gz: \url{https://api.github.com/repos/AICardiologist/FoundationRelativity/tarball/paper4-v1.0.0}
  \item zip: \url{https://api.github.com/repos/AICardiologist/FoundationRelativity/zipball/paper4-v1.0.0}
  \end{itemize}
\item \textbf{Paper 4 Directory:} \texttt{Papers/P4\_SpectralGeometry/}
\item \textbf{License:} MIT (see \texttt{LICENSE} file)
\item \textbf{Lean Version:} As specified in \texttt{lean-toolchain} (Lean 4.x)
\item \textbf{Dependencies:} Zero external dependencies beyond Lean 4 standard library
\end{itemize}

\subsection{Build and verification}
The complete artifact is mathlib-free and maintains a zero-sorry constraint:

\begin{verbatim}
# Option 1: Download from Zenodo (recommended for permanent access)
curl -L https://zenodo.org/records/17059483/files/AICardiologist-FoundationRelativity-v1.0.0.zip \
  -o paper4-zenodo.zip
unzip paper4-zenodo.zip
cd AICardiologist-FoundationRelativity-*

# Option 2: Clone repository and checkout release
git clone https://github.com/AICardiologist/FoundationRelativity.git
cd FoundationRelativity
git checkout paper4-v1.0.0

# Option 3: Download GitHub release archive
curl -L https://api.github.com/repos/AICardiologist/FoundationRelativity/tarball/paper4-v1.0.0 \
  -o paper4-v1.0.0.tar.gz
tar -xzf paper4-v1.0.0.tar.gz
cd AICardiologist-FoundationRelativity-*

# Build Paper 4 main target
lake build Papers.P4_SpectralGeometry.Smoke

# Verify zero-sorry constraint
./scripts/no_sorry_p4.sh

# Optional: build all Paper 4 modules
lake build Papers.P4_SpectralGeometry

# CI verification
./scripts/verify-no-sorry.sh
\end{verbatim}

\subsection{Artifact structure and key mappings}
Core mathematical objects in the paper map to Lean definitions as follows:

\paragraph{Foundation framework:}
\begin{itemize}
\item \textbf{Foundation} $F$ $\mapsto$ \lean{Foundation} (\texttt{Basic.lean})
\item \textbf{Token classes} $\HasWLPO$, $\HasFT$, $\HasDCw$, $\HasMP$ $\mapsto$ \lean{HasWLPO}, \lean{HasFT}, \lean{HasDCω}, \lean{HasMP} (\texttt{Basic.lean})
\item \textbf{WitnessFamily} $W$ $\mapsto$ \lean{WitnessFamily} (\texttt{Basic.lean})
\end{itemize}

\paragraph{Profile algebra:}
\begin{itemize}
\item \textbf{Height} $\{0,1,\omega\}$ $\mapsto$ \lean{Height} with \lean{h0}, \lean{h1}, \lean{hω} (\texttt{Profiles.lean})
\item \textbf{Profile} $(h_{\WLPO}, h_{\FT}, h_{\DCw})$ $\mapsto$ \lean{Profile} structure (\texttt{Profiles.lean})
\item \textbf{Componentwise max} $\max(p,q)$ $\mapsto$ \lean{Profile.max} (\texttt{Profiles.lean})
\item \textbf{Requirements} $\Requires(p,F)$ $\mapsto$ \lean{Requires} (\texttt{ProfileUpper.lean})
\end{itemize}

\paragraph{Certificate system:}
\begin{itemize}
\item \textbf{Upper bound} $\ProfileUpper(p,W)$ $\mapsto$ \lean{ProfileUpper} (\texttt{ProfileUpper.lean})
\item \textbf{Product law} $(W_1 \land W_2)$ has profile $\max(p_1,p_2)$ $\mapsto$ \lean{ProfileUpper.and} (\texttt{ProfileUpper.lean})
\item \textbf{Automatic folding} $\mapsto$ \lean{foldPackages} (\texttt{ProfileInference.lean})
\end{itemize}

\paragraph{Orthogonal MP system:}
\begin{itemize}
\item \textbf{Extended profile} $(p; \mathit{mp\_flag})$ $\mapsto$ \lean{ProfileX} (\texttt{ProfilesMP.lean})
\item \textbf{Boolean requirements} $\mapsto$ \lean{needB}, \lean{RequiresX} (\texttt{ProfilesMP.lean})
\item \textbf{Extended certificates} $\mapsto$ \lean{ProfileUpperX} (\texttt{ProfilesMP.lean})
\end{itemize}

\paragraph{Spectral calibrators S0--S5:}
\begin{itemize}
\item \textbf{S0} (Compact approximation) $\mapsto$ \lean{CompactSpectralApprox\_W}, \lean{S0\_ProfileUpper} (\texttt{CompactApprox.lean})
\item \textbf{S1} (Markov spectrum) $\mapsto$ \lean{SpecApproxEqSpec\_W}, \lean{S1\_iff\_MP} (\texttt{MarkovSpectrum.lean})
\item \textbf{S2} (Locale spatiality) $\mapsto$ \lean{LocaleSpatiality\_W}, \lean{S2\_ProfileUpper} (\texttt{LocaleSpatiality.lean})
\item \textbf{S3} (WLPO portal) $\mapsto$ \lean{SeparationRoute\_W}, \lean{S3\_ProfileUpper} (\texttt{WLPOPortal.lean})
\item \textbf{S4} (QHO) $\mapsto$ \lean{QHO\_W}, \lean{S4\_ProfileUpper} (\texttt{QHO.lean})
\item \textbf{S5} (FT demo) $\mapsto$ \lean{FTPortal\_W}, \lean{S5\_ProfileUpper} (\texttt{ProfileUpper.lean})
\end{itemize}

\paragraph{Route-conditional costs:}
\begin{itemize}
\item \textbf{Route flags} $\UsesSeparationNonSep$ $\mapsto$ \lean{UsesSeparationNonSep} (\texttt{RouteFlags.lean})
\item \textbf{Portal discharge} $\mapsto$ \lean{PortalRequiresWLPO} (\texttt{RouteFlags.lean})
\end{itemize}

\subsection{Verification statistics}
\begin{itemize}
\item \textbf{Total lines:} 700+ lines of Lean 4 code
\item \textbf{Modules:} 15 core modules plus composition examples and showcases
\item \textbf{Sorries:} 0 (verified by CI)
\item \textbf{External dependencies:} 0 (mathlib-free)
\item \textbf{Spectral calibrators:} 5 main (S0--S4) plus 1 demonstration (S5)
\item \textbf{Composition examples:} 15+ automated certificate combinations
\item \textbf{CI status:} Continuously verified via GitHub Actions
\end{itemize}

% Patch H content moved to Figure \ref{fig:lean-folding-snippet}

% === PATCH P: BEGIN (Lean snippet for folding) =================================
\begin{figure}[t]
\centering
\begin{minipage}{0.92\linewidth}
\begin{verbatim}
-- Fold S0, S2, S3 into a single certificate + composed profile:
def S0_S2_S3_folded : WitnessPackage :=
  foldPackages [S0_package, S2_package, S3_package]

-- The resulting profile is the componentwise max:
#check S0_S2_S3_folded.profile
-- : Profile, equals max S0_profile (max S2_profile S3_profile)
\end{verbatim}
\end{minipage}
\caption{\textbf{Automated composition in the artifact.}
The fold constructs both the composite witness and its profile, then applies the
product law to obtain a single certificate for the conjunction.}
\label{fig:lean-folding-snippet}
\end{figure}
% === PATCH P: END ==============================================================

\section{Lessons from formalization}\label{sec:lessons}
\begin{enumerate}
  \item \textbf{Orthogonality \(\neq\) simplicity.}
  Treating \(\MP\) as an orthogonal boolean bit needed a parallel algebra and a
  dedicated composition lemma; automation follows only after the right splits.
  \item \textbf{Route costs are first-class.}
  The WLPO portal is attached to a \emph{route flag}, not to a theorem statement.
  \item \textbf{Automation emerges from structure.}
  Certificates compose via a product law; folding witnesses computes both the
  composite statement and its axiom bill.
  \item \textbf{Constructive precision helps.}
  The zero-sorry constraint removed hand-wavy steps and clarified which tokens
  (e.g.\ \(\DCw\) vs.\ stronger choice) actually appear.
\end{enumerate}

% === PATCH I: BEGIN (physics-facing discussion) ==============================
\paragraph{Physics implications.}
The calibration results suggest axiom-cheap routes for quantum spectral computations. Height-0 results (S0, S4) form a constructive computational core requiring no axioms beyond $\BISH$. The $\DCw$ layer (S2) indicates that obtaining definite classical states in the separable case incurs dependent choice costs, aligning with locality constraints in physical measurements. The WLPO portal (S3) reveals that separation-based arguments in non-separable spaces import decidability assumptions, potentially relevant to infinite-dimensional quantum field contexts. The orthogonal MP layer (S1) bridges the gap between algorithmic approximation and exact spectral properties, clarifying when computational spectral methods suffice versus when unbounded search (and its associated non-constructive content) becomes essential.
% === PATCH I: END =============================================================

\paragraph{Future work.}
Two immediate directions: (i) sharpness (lower bounds) by countermodels to show
necessity of \(\WLPO\)/\(\DCw\) in select cases; (ii) axiom-cheap reroutings of
standard spectral proofs found by the composer (replacing portal routes with
height-0 + \(\DCw\) plans when possible).

% === PATCH J: BEGIN (appendix artifact index) ================================
\appendix
\section{Artifact Index}

\textbf{Main Lean files:}
\begin{itemize}[noitemsep]
\item \lean{Spectral/Basic.lean} — Foundation, tokens, witness families
\item \lean{Spectral/Profiles.lean} — 3-axis height algebra and composition  
\item \lean{Spectral/ProfileUpper.lean} — Profile-based upper bound certificates
\item \lean{Spectral/ProfilesMP.lean} — Orthogonal MP extension with boolean algebra
\item \lean{Spectral/CompactApprox.lean} — S0: Compact spectral approximation
\item \lean{Spectral/MarkovSpectrum.lean} — S1: MP-gated exact spectrum
\item \lean{Spectral/LocaleSpatiality.lean} — S2: DCω-gated locale spatiality  
\item \lean{Spectral/WLPOPortal.lean} — S3: WLPO-conditional separation route
\item \lean{Spectral/QHO.lean} — S4: Quantum harmonic oscillator
\item \lean{Spectral/ProfileInference.lean} — Automated folding and composition
\end{itemize}

\textbf{Verification commands:}
\begin{verbatim}
lake build Papers.P4_SpectralGeometry.Smoke  # Main target
./scripts/no_sorry_p4.sh                     # Zero-sorry check
./scripts/verify-no-sorry.sh                 # CI integration
\end{verbatim}

\textbf{Key verification stats:} 700+ lines, 5 spectral calibrators (S0-S4 plus S5 demo), 15+ composition examples, zero sorries, mathlib-free constraint maintained.
% === PATCH J: END =============================================================

% === PATCH C: END ==============================================================

\section*{Acknowledgments}
Development assistance provided by: Gemini 2.5 Deep Think (architecture exploration and theoretical framework design), GPT-5 Pro (Lean 4 scaffolding and implementation support), and Claude Code (repository management and development workflow).

\end{document}